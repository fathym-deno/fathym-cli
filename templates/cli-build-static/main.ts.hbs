import { IoCContainer } from "@fathym/ioc";
import { Runner, CLICommandResolver } from "@fathym/cli";
import { EmbeddedCLIFileSystemHooks } from "./EmbeddedCLIFileSystemHooks.ts";

// Create IoC with embedded filesystem hooks
const ioc = new IoCContainer();
const embeddedHooks = new EmbeddedCLIFileSystemHooks();
ioc.Register(CLICommandResolver, () => new CLICommandResolver(embeddedHooks));

await Runner()
  .FromArgs(Deno.args)
  .WithIoC(ioc)
  .Execute();
